\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{indentfirst}
\usepackage{amsfonts}
\usepackage{listings}
\usepackage[hmargin=3cm,vmargin=6.0cm]{geometry}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{255, 255, 255}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\topmargin=-2cm
\addtolength{\textheight}{6.5cm}
\addtolength{\textwidth}{2.0cm}
\setlength{\oddsidemargin}{0.0cm}
\setlength{\evensidemargin}{0.0cm}

\begin{document}

\section*{Student Information}

Name : Ozan AkÄ±n \\

ID : 2309599 \\

\section*{Monte Carlo Study and Simulation Size}

To conduct a Monte Carlo study, we have to determine study size. To do this, we can use Normal Approximation as given in the text. We can use the formula from the textbook page 116.

\begin{center}
    $N \geq 0.25 (\dfrac{z_{\alpha / 2}}{\varepsilon})^2$
\end{center}

Again from the same page, we can use the formula $z_{\alpha} = \Phi^{-1}(1-\alpha)$. Thus, if the take $\alpha = 0.02$ and $\varepsilon = 0.03$ as stated in the text, and both the reverse of the formula $ = \Phi(z_{\alpha}) = 1-\alpha$ and the table A4 from the textbook, we can take $z_{\alpha / 2} = 2.3263$.

\begin{align*}
    N &\geq 0.25 (\dfrac{2.32363}{0.03})^2 \\
    N &\geq 1503.24
\end{align*}

Thus, we can take $N$ as $1504$.
~ \\

Since the number of distinct goods types to be processed within a day has a Poisson distribution, we can use \texttt{poissrnd} function in MATLAB/Octave with $\lambda = 160$, as stated in the text.
~ \\

For calculations of the matrix $G$, I have used \texttt{triu} function to get upper triangular part from the randomized matrix, which was generated by using \texttt{rand} function. And then, using \texttt{diag} function twice to make the diagonals zero. Lastly we can use the MATLAB code in Example 5.5 from the textbook, to calculate Bernoulli trials. The code looks like this at the end. 
~ \\

\begin{lstlisting}[language=Octave]
    G = triu(rand(m), 1); % get only upper triangular part
    G = (G + G'); % copy the upper part to lower
    G = (G<p); % calculate bernoulli trials
    G = G - diag(diag(G)); % make the diagonals zero
\end{lstlisting}
~ \\

For both parts a and b, I have calculated both the number of triples, and the ratio of the number of triples to the number of all possible triples.
~ \\

In order to calculate the number of triples which they are compatible their owns, I have used the formula given in the text. I have used the \texttt{trace} function to calculate trace of a matrix. And then, to find the number of all possible triples, I have used simple combination calculation $\frac{m * (m-1) * (m-2)}{6}$, if we say $m$ is the the number of distinct goods types calculated from Poisson distribution.

\section*{a)}
    In this experiment, we take $p$ as $0.012$, thus used very sparse graph $G$. I have used \texttt{mean} function to calculate estimated probability, in this case \texttt{mean(results<=1)}. The result can be found below.
    
    \begin{center}
        Estimated probability = $0.67620$
    \end{center}
    
\section*{b)}
    In this experiment, we take $p$ as $0.79$, thus used very dense graph $G$. I did same steps as in the above experiment. But in this case, the results I have used is the ratio of the calculated number of triples divided by the number of all possible triples, using the calculation \texttt{mean(results>0.5)}.
    
    \begin{center}
        Estimated probability = $0.14827$
    \end{center}
    
\section*{c)}
    In this question, we need to estimate both total number of triples and the ratio. To do that, again I have used \texttt{mean} function. We've named the estimation of the total number of triples as $X$, and the ratio as $Y$. The results can be found below.
    
    \begin{align*}
        X \; \text{(for part a)} &=  1.1489 \\
        X \; \text{(for part b)} &=  335320.95479 \\
        Y \; \text{(for part a)} &=  0.0000016964 \\
        Y \; \text{(for part b)} &=  0.49294
    \end{align*}

\section*{d)}
    At last, in this question we've been asked to calculate standart deviations of the Monte Carlo study. I've used \texttt{std} function to calculate the results. The results can be found below.
    
    \begin{align*}
        Std(X) \; \text{(for part a)} &=  1.1653 \\
        Std(Y) \; \text{(for part a)} &=  0.0000016620 \\
        Std(X) \; \text{(for part b)} &=  82739.80113 \\
        Std(Y) \; \text{(for part b)} &=  0.0069040
    \end{align*}
    
    As we can see, both $Std(X)$ for part a, and $Std(Y)$ for part b fit our values ($\alpha = 0.02$ and $\varepsilon = 0.03$). They are the values we might care, since in both experiment $a$ and $X$ we've worked on the total number of triples, and in both experiment $b$ and $Y$ we've worked on the ratio.

\end{document}

